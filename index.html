<!DOCTYPE html>
<html lang="en">
	<head>
		<title>氣象局XML試題</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/style.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->

	</head>
	<body>

		<!-- Banner -->
			<section id="banner">
				<h2>中央氣象局開放資料</h2>
				<p>一般天氣預報-今明36小時海面天氣預報</p>
		
			</section>

		<!-- One -->
			<section id="one" class="wrapper special">
			
				<div class="inner">
				<table id="demo"></table>
					
				</div>
			</section>

		<!-- Two -->
			<section id="two" class="wrapper style2 special">
				<div class="inner narrow">
					<header>
						<h2></h2>
					</header>
					
				</div>
			</section>

	
		<!-- Footer -->
			<footer id="footer">
				<div class="copyright">
					TEST XML／Ajax
				</div>
			</footer>


		
	<!--程式碼開始-->
    <script>
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                myFunction(this);
            }
        };
        xmlhttp.open("GET", "weather.xml", true);
        xmlhttp.send();


        function myFunction(xml) {
            var i;
            var xmlDoc = xml.responseXML;
            var table = "<tr><th>海面區域</th><th>天氣</th></tr>";
            var x = xmlDoc.getElementsByTagName("location");
            for (i = 0; i < x.length; i++) {
                table += "<tr><td>" +
                    x[i].getElementsByTagName("locationName")[0].childNodes[0].nodeValue +
                    "</td><td>" +
                    x[i].getElementsByTagName("parameterName")[0].childNodes[0].nodeValue +
                    "</td></tr>";
            }
            document.getElementById("demo").innerHTML = table;
        }
    </script>

	</body>
</html>